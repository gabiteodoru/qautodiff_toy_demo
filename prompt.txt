You have a spec in spec.md to write code to a new file. Since you're not very good at q, you should build this incrementally, one function at a time, and use thorough unit tests; make new file tests.q for unit tests. If you still have issues, you should use the qmcp server to run code interactively. Start by connecting to q using qmcp (use default connection as it's already set up). Read the qmcp help for additional tips on testing and debugging. As you incrementally write the two q files, you should run the tests using bash `q tests.q`
